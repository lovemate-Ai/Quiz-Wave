<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Encoder & Decoder Tool</title>
<style>
  body {
    font-family: Poppins, sans-serif;
    background: linear-gradient(135deg, #2c3e50, #3498db);
    color: white;
    text-align: center;
    padding: 20px;
  }
  .container {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 20px;
    max-width: 600px;
    margin: auto;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  }
  input, textarea, button {
    width: 100%;
    margin: 10px 0;
    border: none;
    border-radius: 10px;
    padding: 10px;
  }
  textarea {
    height: 150px;
    resize: none;
  }
  button {
    background: #27ae60;
    color: white;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
  }
  button:hover { background: #2ecc71; }
  img {
    max-width: 100%;
    margin-top: 10px;
    border-radius: 10px;
  }
</style>
</head>
<body>

<h1>üñºÔ∏è Image Encoder & Decoder Tool</h1>
<div class="container">
  <h2>Encode Image ‚û°Ô∏è Base64</h2>
  <input type="file" id="imageInput" accept="image/*">
  <textarea id="base64Output" placeholder="Base64 code will appear here..."></textarea>
  <button onclick="copyCode()">üìã Copy Code</button>
  <button onclick="downloadCode()">‚¨áÔ∏è Download Code</button>

  <hr>

  <h2>Decode Base64 ‚û°Ô∏è Image</h2>
  <textarea id="decodeInput" placeholder="Paste Base64 code here or upload file..."></textarea>
  <input type="file" id="base64File" accept=".txt,.base64">
  <button onclick="decodeImage()">üîì Decode</button>
  <img id="decodedImage" src="" alt="">
</div>

<script>
  const imageInput = document.getElementById('imageInput');
  const base64Output = document.getElementById('base64Output');
  const base64File = document.getElementById('base64File');

  // Encode Image
  imageInput.addEventListener('change', () => {
    const file = imageInput.files[0];
    const reader = new FileReader();
    reader.onloadend = () => {
      base64Output.value = reader.result;
    };
    if (file) reader.readAsDataURL(file);
  });

  // Copy Code
  function copyCode() {
    base64Output.select();
    document.execCommand('copy');
    alert('‚úÖ Base64 code copied to clipboard!');
  }

  // Download Base64 as File
  function downloadCode() {
    const base64 = base64Output.value.trim();
    if (!base64) return alert("‚ö†Ô∏è No Base64 code found!");
    const blob = new Blob([base64], { type: "text/plain" });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = "image_base64.txt";
    a.click();
    alert("‚úÖ Base64 file downloaded!");
  }

  // Decode Base64
  base64File.addEventListener('change', () => {
    const file = base64File.files[0];
    const reader = new FileReader();
    reader.onload = () => {
      document.getElementById('decodeInput').value = reader.result;
    };
    reader.readAsText(file);
  });

  function decodeImage() {
    const code = document.getElementById('decodeInput').value.trim();
    if (!code.startsWith("data:image")) {
      alert("‚ö†Ô∏è Invalid Base64 image format!");
      return;
    }
    document.getElementById('decodedImage').src = code;
  }
</script>

</body>
</html>
