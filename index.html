<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Image Encoder Tool</title>
<style>
  body {
    font-family: Poppins, sans-serif;
    background: linear-gradient(135deg, #2c3e50, #3498db);
    color: white;
    text-align: center;
    padding: 20px;
  }
  .container {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 20px;
    max-width: 600px;
    margin: auto;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  }
  input, textarea, button {
    width: 100%;
    margin: 10px 0;
    border: none;
    border-radius: 10px;
    padding: 10px;
  }
  textarea {
    height: 150px;
    resize: none;
  }
  button {
    background: #27ae60;
    color: white;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
  }
  button:hover { background: #2ecc71; }
  img {
    max-width: 100%;
    margin-top: 10px;
    border-radius: 10px;
  }
  #shortPreview {
    background: rgba(0,0,0,0.2);
    padding: 10px;
    border-radius: 10px;
    word-wrap: break-word;
    color: #f1f1f1;
  }
</style>
</head>
<body>

<h1>üñºÔ∏è Smart Image Encoder Tool</h1>
<div class="container">
  <h2>Encode Image ‚û°Ô∏è Base64</h2>
  <input type="file" id="imageInput" accept="image/*">
  
  <div id="shortPreview">No image encoded yet...</div>
  <button onclick="copyShort()">üìã Copy Short Code</button>
  <button onclick="showFull()">üëÅÔ∏è Show Full Code</button>
  <button onclick="downloadFull()">‚¨áÔ∏è Download Full Code</button>
  
  <textarea id="fullOutput" style="display:none;"></textarea>
</div>

<script>
  const imageInput = document.getElementById('imageInput');
  const shortPreview = document.getElementById('shortPreview');
  const fullOutput = document.getElementById('fullOutput');
  let base64Data = "";

  imageInput.addEventListener('change', () => {
    const file = imageInput.files[0];
    const reader = new FileReader();
    reader.onloadend = () => {
      base64Data = reader.result;
      // Short preview (first + last 50 chars)
      const shortText = base64Data.slice(0, 50) + " ... " + base64Data.slice(-50);
      shortPreview.textContent = shortText;
      fullOutput.value = base64Data;
    };
    if (file) reader.readAsDataURL(file);
  });

  function copyShort() {
    if (!base64Data) return alert("‚ö†Ô∏è No Base64 code yet!");
    navigator.clipboard.writeText(shortPreview.textContent);
    alert("‚úÖ Short version copied!");
  }

  function showFull() {
    if (!base64Data) return alert("‚ö†Ô∏è Encode an image first!");
    fullOutput.style.display = (fullOutput.style.display === "none") ? "block" : "none";
  }

  function downloadFull() {
    if (!base64Data) return alert("‚ö†Ô∏è Nothing to download!");
    const blob = new Blob([base64Data], { type: "text/plain" });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = "image_base64_full.txt";
    a.click();
  }
</script>

</body>
</html>
